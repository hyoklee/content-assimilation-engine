.TH WRP 1 "May 1 2025" "wrp 0.0.1" "User Commands"
.SH NAME
wrp \- assimilate contents
.SH SYNOPSIS
.B wrp
[\fB\-q\fR]
.I command
[\fIfile\fR ...]
.SH DESCRIPTION
The
.B wrp
command warps contents in
.IR file .
It is used for accelerating scientific data workflows by optimizing resource utilization through content assimilation and buffer management.
.PP
The
.B wrp
CLI maintains configuration settings and credentials in files, and environment variables can override configuration file settings.
.SH OPTIONS
.TP
.BR \-q ", " \-\-quiet
Suppress output messages during operation
.SH COMMANDS
.TP
.B put \fIfile\fR
Put the content from
.I file
(YAML format) into a buffer. The
.I file
should be an OMNI YAML file (e.g., posix.omni.yml) that specifies the data source, metadata, and processing parameters.
.TP
.B ls
List all available buffers in the runtime. No file argument is required for this command.
.TP
.B get \fIbuffer_name\fR
Get an OMNI file from the specified buffer. The
.I buffer_name
refers to a memory-mapped buffer created by a previous
.B put
operation.
.SH FILE FORMAT
The
.B put
command expects OMNI YAML files as input. See
.BR omni (5)
for detailed information about the OMNI file format, including the file waiting functionality using the
.RB ` > '
prefix in
.B src
fields.
.SH WORKFLOW
.B wrp
operates through the following workflow:
.IP 1. 3
Initialize or connect to IOWarp runtime
.IP 2. 3
Process OMNI configuration file (for
.B put
command)
.IP 3. 3
Create or access buffers with associated metadata tags
.IP 4. 3
Perform data operations (put, list, or get)
.IP 5. 3
Output results or status information
.SH EXAMPLES
Put the content from an OMNI file into a buffer:
.PP
.nf
.RS
$ wrp put posix.yml
checking IOWarp runtime...no
launching a new IOWarp runtime...done
checking existing buffer 'cae'...no
creating a new buffer 'cae' with 'ai, material science, utah' tags...done
putting 30 bytes into 'cae' buffer...done
.RE
.fi
.PP
List all available buffers in runtime:
.PP
.nf
.RS
$ wrp ls
connecting runtime
cae:ai,material science,utah
.RE
.fi
.PP
Get OMNI file from buffer:
.PP
.nf
.RS
$ wrp get cae
writing output cae.omni.yaml...done
.RE
.fi
.PP
Run in quiet mode:
.PP
.nf
.RS
$ wrp put -q posix.yml
.RE
.fi
.PP
Use file waiting functionality (waits for file to become available):
.PP
.nf
.RS
# In OMNI YAML file:
src: ">./delayed_input_file.csv"

$ wrp put waiting_job.yml
Will wait for file: ./delayed_input_file.csv
Waiting for file './delayed_input_file.csv' to become available...
File './delayed_input_file.csv' is now available, continuing...
.RE
.fi
.SH FILES
.TP
.I *.yaml, *.yml
OMNI format input files for the
.B put
command
.TP
.I *.omni.yaml
Output files generated by the
.B get
command
.TP
.I .blackhole/
Runtime directory for buffer metadata and management
.SH ENVIRONMENT
Environment variables override configuration file settings. Specific environment variables depend on the enabled features:
.TP
.B GLOBUS_TRANSFER_TOKEN
Required for Globus transfer operations when using
.B globus://
URLs in OMNI files
.SH EXIT STATUS
.TP
.B 0
Success
.TP
.B 1
General error (invalid command, file not found, etc.)
.TP
.B -1
Runtime or buffer operation failure
.SH SEE ALSO
.BR omni (5),
.BR yaml (7),
.BR mmap (2)
.SH AUTHORS
Content Assimilation Engine Project
.SH BUGS
Report bugs at https://github.com/hyoklee/content-assimilation-engine/issues
.SH NOTES
The
.B wrp
command is part of the Content Assimilation Engine (CAE) project, designed for high-performance scientific data processing workflows. It supports various data sources including local files, HTTP/HTTPS URLs, HDF5 datasets, and Globus endpoints.